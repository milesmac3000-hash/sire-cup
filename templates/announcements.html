{% extends "base.html" %}

{% block title %}Announcements | Sire Cup{% endblock %}

{% block content %}
<!-- Header -->
<div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-8">
    <div>
        <h1 class="font-display text-3xl md:text-4xl font-bold text-gray-900 mb-2">
            <i class="fas fa-bullhorn text-masters-green mr-3"></i>Announcements
        </h1>
        <p class="text-gray-500">News and updates for the trip</p>
    </div>
    <a href="{{ url_for('create_announcement') }}" class="mt-4 md:mt-0 btn-primary px-6 py-3 rounded-xl text-white font-semibold flex items-center space-x-2">
        <i class="fas fa-plus"></i>
        <span>New Announcement</span>
    </a>
</div>

{% if announcements %}
<div class="space-y-4">
    {% for announcement in announcements %}
    <div class="glass rounded-2xl border border-gray-100 overflow-hidden card-hover {% if announcement.pinned %}ring-2 ring-masters-gold{% endif %}">
        <div class="p-6">
            <div class="flex items-start justify-between mb-3">
                <div class="flex items-center space-x-3">
                    {% if announcement.pinned %}
                    <span class="px-2 py-1 bg-masters-gold/20 text-masters-gold rounded-full text-xs font-bold">
                        <i class="fas fa-thumbtack mr-1"></i>Pinned
                    </span>
                    {% endif %}
                    <span class="text-gray-400 text-sm">{{ announcement.created_at.strftime('%b %d, %Y at %I:%M %p') }}</span>
                </div>
                <a href="{{ url_for('edit_announcement', announcement_id=announcement.id) }}" class="text-gray-400 hover:text-masters-green transition-colors">
                    <i class="fas fa-edit"></i>
                </a>
            </div>
            <h3 class="text-xl font-bold text-gray-900 mb-2">{{ announcement.title }}</h3>
            <p class="text-gray-600 whitespace-pre-wrap">{{ announcement.content }}</p>
            {% if announcement.author %}
            <p class="mt-4 text-sm text-gray-400">â€” {{ announcement.author }}</p>
            {% endif %}
        </div>
    </div>
    {% endfor %}
</div>
{% else %}
<div class="glass rounded-2xl p-12 border border-gray-100 text-center">
    <div class="w-20 h-20 rounded-full bg-gray-100 flex items-center justify-center mx-auto mb-4">
        <i class="fas fa-bullhorn text-4xl text-gray-300"></i>
    </div>
    <h3 class="text-xl font-bold text-gray-800 mb-2">No Announcements Yet</h3>
    <p class="text-gray-500 mb-6">Post updates and news for the group</p>
    <a href="{{ url_for('create_announcement') }}" class="btn-primary px-6 py-3 rounded-xl text-white font-semibold inline-flex items-center space-x-2">
        <i class="fas fa-plus"></i>
        <span>Create First Announcement</span>
    </a>
</div>
{% endif %}
{% endblock %}
