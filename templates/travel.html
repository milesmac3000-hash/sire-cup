{% extends "base.html" %}

{% block title %}Travel Plans - Sire Cup{% endblock %}

{% block content %}
    <h1 class="mb-8">Travel Plans</h1>
    <p class="mb-6"><a href="{{ url_for('index') }}">Back to Dashboard</a></p>

    <h2 class="mb-4">All Travel Plans</h2>
    {% if travel_plans %}
        <div class="space-y-6 mb-10">
            {% for plan in travel_plans %}
                <div class="card">
                    <h3 class="text-green-700">{{ plan.player.name }}</h3>
                    <p class="text-gray-700 mt-2"><strong>Arrival:</strong> {{ plan.arrival_date.strftime('%Y-%m-%d') }}
                        {% if plan.arrival_time %}, <span class="font-medium">{{ plan.arrival_time }}</span>{% endif %}
                        {% if plan.airport_name %} at <span class="font-medium">{{ plan.airport_name }}</span>{% endif %}
                        {% if plan.flight_number %} (Flight: <span class="font-medium">{{ plan.flight_number }}</span>){% endif %}
                    </p>
                    <p class="text-gray-700"><strong>Departure:</strong> {{ plan.departure_date.strftime('%Y-%m-%d') }}</p>
                    {% if plan.notes %}
                        <p class="text-gray-600 italic mt-2">Notes: {{ plan.notes }}</p>
                    {% endif %}
                    <p class="mt-4"><a href="{{ url_for('add_travel_plan', player_id=plan.player.id) }}">Edit Travel Plan</a></p>
                </div>
            {% endfor %}
        </div>
    {% else %}
        <p class="text-gray-600 mb-10">No travel plans added yet.</p>
    {% endif %}

    <h2 class="mb-4">Add/Edit Travel Plan for a Player:</h2>
    <ul class="space-y-2 mb-6">
        {% for player in players %}
            <li class="bg-gray-50 p-3 rounded-md shadow-sm"><a href="{{ url_for('add_travel_plan', player_id=player.id) }}">{{ player.name }}</a></li>
        {% endfor %}
    </ul>
{% endblock %}
